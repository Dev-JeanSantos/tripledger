# ADR-005 â€” Observability & DevOps

> [Portuguese version](../pt/ADR-005.md)

## Status
Accepted

## Date
2026-02-22

## Context

TripLedger must demonstrate production readiness and cloud deployment awareness:

- Health monitoring
- Logging
- Metrics
- Docker-based deployment
- Cloudflare CDN usage

---

## Decision

### Observability

1. **Health Checks**
   - Spring Boot Actuator
   - /actuator/health endpoint for service monitoring

2. **Logging**
   - Structured logging (JSON)
   - Consistent log levels (INFO, DEBUG, WARN, ERROR)
   - Request ID tracing

3. **Metrics**
   - Expose Prometheus metrics via /actuator/prometheus
   - Track key domain events (Trips created, Expenses added, etc.)

---

### DevOps & Deployment

1. **Docker**
   - Multi-stage builds
   - Image includes JDK + compiled Kotlin app
   - docker-compose for local Mongo

2. **Cloud Deployment**
   - Use Cloudflare Tunnel or Workers to expose API
   - Serve static documentation via CDN

3. **CI/CD (optional)**
   - GitHub Actions pipeline
   - Linting, test execution, Docker image build

---

## Rationale

- Observability ensures reliability and maintainability
- Docker + Cloudflare demonstrates cloud skills for portfolio
- CI/CD ensures repeatable, automated deployment

---

## Consequences

- Project is production-ready
- Clear demonstration of DevOps and cloud competence
- Metrics and logging allow monitoring and future scalability

